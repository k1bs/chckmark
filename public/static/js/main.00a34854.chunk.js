(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{130:function(e,t,n){},132:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(34),c=n(8),i=n(36),l=n(37),u=n(3),s=n(5),m=n.n(s),d=n(6),f=n(7),E=function(){function e(){Object(d.a)(this,e)}return Object(f.a)(e,null,[{key:"authenticateToken",value:function(e){sessionStorage.setItem("token",e)}},{key:"isUserAuthenticated",value:function(){return null!==sessionStorage.getItem("token")}},{key:"deauthenticateUser",value:function(){sessionStorage.removeItem("token")}},{key:"getToken",value:function(){return sessionStorage.getItem("token")}}]),e}(),p=function(e,t){return{type:"LOGIN",token:e,name:t}},h=function(e){return{type:"SET_CURRENT_NOTE",id:e}},k=function(e){return{type:"FETCHING_NOTES",value:e}},v=function(e){return{type:"VIEW_MODE",value:e}},N=Object(u.b)(function(e){return{currentViewMode:e.viewMode,user:e.user}},null)(function(e){var t=e.dispatch,n=e.currentViewMode,a=e.user;return r.a.createElement("div",{className:"nav-bar"},r.a.createElement("div",{className:"nav-list"},a.token?r.a.createElement("div",{className:"nav-module"},r.a.createElement("span",{onClick:function(){return t(v("NOTE"))}},"Notes"),r.a.createElement("span",{onClick:function(){return t(function(e){var t=E.getToken();m()("/logout",{method:"DELETE",headers:{Authorization:"Token ".concat(t),token:t}}).then(function(t){E.deauthenticateUser(),e({type:"LOGOUT"})})})}},"Logout"),r.a.createElement("span",{onClick:function(){return t(function(e){var t=E.getToken();e(k(!0)),m()("/profile",{method:"GET",headers:{Authorization:"Token ".concat(t),token:t}}).then(function(e){return e.json()}).then(function(t){e({type:"SET_USER",user:t.user}),e(v("PROFILE"))}).catch(function(e){return console.log(e)})})}},"Profile")):r.a.createElement("div",{className:"nav-module"},r.a.createElement("span",{onClick:function(){return t(v("LOGIN"))}},"Login"),r.a.createElement("span",{onClick:function(){return t(v("REGISTER"))}},"Register")),r.a.createElement("span",{onClick:function(){return t(v("INSTRUCTIONS"))}},"Instructions")),"HOME"!==n?r.a.createElement("div",{className:"logo-div"},r.a.createElement("img",{alt:"logo",className:"nav-logo-img",src:"/logo-transparent.png"})):"")}),g=function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Alex Kibler 2018"))},O=n(11),T=n(10),C=n(12),y=function(e){var t=e.onDeleteClick,n=e.currentNote;return r.a.createElement("i",{onClick:function(){return t(n)},className:"fa fa-trash-o fa-fw fa-lg","aria-hidden":"true"})},b=function(e){var t,n=e.note,a=e.onUpdateClick;return r.a.createElement("div",{className:"note-edit"},r.a.createElement("form",{id:"edit-form",onSubmit:function(e){e.preventDefault(),n?a(n.id,t.value):a(t.value)}},r.a.createElement("input",{id:"edit-form-submit",type:"submit",value:"Edit Note"}),r.a.createElement("label",{htmlFor:"edit-form-submit"},r.a.createElement("i",{className:"fa fa-floppy-o fa-fw fa-lg","aria-hidden":"true"}))),r.a.createElement("textarea",{form:"edit-form",ref:function(e){t=e},defaultValue:n?n.text:""}))},w=n(39),j=n.n(w),_=function(e){var t=e.note;return r.a.createElement(j.a,{className:"note-view",source:t.text})},D=function(e){var t=e.notes,n=e.currentNote,a=e.onDeleteClick,o=e.editMode,c=e.onUpdateClick,i=e.onEditClick,l=e.onAddClick;return r.a.createElement("div",{className:"note-hero"},null!==n||o?o?r.a.createElement("div",{className:"note-hero-inner"},r.a.createElement("div",{className:"hero-button-module"},r.a.createElement("span",null,r.a.createElement("i",{onClick:function(){return i(!0)},className:"fa fa-pencil fa-fw fa-lg","aria-hidden":"true"})),r.a.createElement(y,{onDeleteClick:a,currentNote:n})),r.a.createElement(b,{note:t.find(function(e){return e.id===n}),onUpdateClick:null!==n?c:l})):r.a.createElement("div",{className:"note-hero-inner"},r.a.createElement("div",{className:"hero-button-module"},r.a.createElement("span",null,r.a.createElement("i",{onClick:function(){return i(!0)},className:"fa fa-pencil fa-fw fa-lg","aria-hidden":"true"})),r.a.createElement(y,{onDeleteClick:a,currentNote:n})),r.a.createElement(_,{note:t.find(function(e){return e.id===n})})):r.a.createElement("span",{className:"select-another-span"},"Please select or create a note!"))},S=function(e){var t=e.onCurrentClick,n=e.text;return r.a.createElement("div",{className:"note-small"},r.a.createElement("span",{onClick:t},n?n.substring(0,35):""))},R=n(1),M=n.n(R),I=function(e){function t(){return Object(d.a)(this,t),Object(O.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.notes,n=e.onCurrentClick,a=e.onDeleteClick,o=e.onNewClick;return r.a.createElement("div",{className:"note-list"},r.a.createElement("i",{onClick:o,className:"fa fa-plus fa-fw fa-lg","aria-hidden":"true"}),t.map(function(e){return r.a.createElement(S,Object.assign({key:e.id},e,{onCurrentClick:function(){return n(e.id)},onDeleteClick:function(){return a(e.id)}}))}))}}]),t}(a.Component);I.proptypes={notes:M.a.arrayOf(M.a.shape({id:M.a.number.isRequired,note:M.a.string.isRequired}).isRequired).isRequired,onCurrentClick:M.a.func.isRequired,onDeleteClick:M.a.func.isRequired};var U=Object(u.b)()(I),L=function(e){function t(){return Object(d.a)(this,t),Object(O.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAllNotes()}},{key:"render",value:function(){var e=this.props,t=e.notes,n=e.fetchingNotes,a=e.currentNote,o=e.onCurrentClick,c=e.onDeleteClick,i=e.editMode,l=e.onUpdateClick,u=e.onEditClick,s=e.onAddClick,m=e.onNewClick;return n?r.a.createElement("div",{className:"spinner-div"},r.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-3x fa-fw"})):r.a.createElement("div",{className:"note-container"},r.a.createElement(U,{notes:t,onCurrentClick:o,onNewClick:m}),r.a.createElement(D,{notes:t,currentNote:a,onDeleteClick:c,editMode:i,onUpdateClick:l,onEditClick:u,onAddClick:s}))}}]),t}(a.Component),A=Object(u.b)(function(e){return{notes:e.notes,currentNote:e.currentNote,editMode:e.editMode,fetchingNotes:e.fetchingNotes}},function(e){return{onCurrentClick:function(t){return e(h(t))},onDeleteClick:function(t){return e(function(e){return function(t){var n=E.getToken();m()("/notes/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(n),token:n}}).then(function(e){return e.json()}).then(function(n){console.log(n),t(function(e){return{type:"DELETE_NOTE",id:e}}(e))})}}(t))},onUpdateClick:function(t,n){return e(function(e,t){return function(n){var a=E.getToken();m()("/notes/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(a),token:a},body:JSON.stringify({text:t})}).then(function(e){return e.json()}).then(function(e){var t,a;n((t=e.note.id,a=e.note.text,{type:"UPDATE_NOTE",id:t,text:a}))})}}(t,n))},onEditClick:function(t){return e(function(e){return{type:"EDIT_MODE",value:e}}(t))},onAddClick:function(t){console.log(t),e(function(e){return function(t){var n=E.getToken();m()("/notes",{method:"POST",body:JSON.stringify({note:{text:e}}),headers:{"Content-Type":"application/json",Authorization:"Token ".concat(n),token:n}}).then(function(e){return e.json()}).then(function(e){var n,a;console.log(e.note),t((n=e.note.id,a=e.note.text,{type:"ADD_NOTE",id:n,text:a}))})}}(t))},onNewClick:function(){return e({type:"NEW_NOTE"})},fetchAllNotes:function(){return e(function(e){var t=E.getToken();e(k(!0)),m()("/notes",{method:"GET",headers:{Authorization:"Token ".concat(t),token:t}}).then(function(e){return e.json()}).then(function(t){e(h(null)),e({type:"SET_NOTES",notes:t.notes})}).catch(function(e){return console.log(e)})})}}})(L),x=function(){return r.a.createElement("div",{className:"home-container"},r.a.createElement("img",{alt:"logo",className:"home-logo-img",src:"/logo-transparent.png"}),r.a.createElement("p",null,"A Markdown-enabled note-taking application"))},G=function(e){var t,n,a,o,c=e.onRegisterClick;return r.a.createElement("div",{className:"auth-form"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("running password match"),c(t.value,n.value,a.value,o.value)}},r.a.createElement("input",{type:"text",placeholder:"username",ref:function(e){t=e}}),r.a.createElement("input",{type:"password",placeholder:"password",ref:function(e){n=e}}),r.a.createElement("input",{type:"text",placeholder:"name",ref:function(e){a=e}}),r.a.createElement("input",{type:"email",placeholder:"email",ref:function(e){o=e}}),r.a.createElement("input",{type:"submit",value:"register"})))},P=function(e){var t=e.user;return r.a.createElement("div",{className:"profile-container"},r.a.createElement("div",null,r.a.createElement("h1",null,t.username),r.a.createElement("br",null),r.a.createElement("h4",null,t.name),r.a.createElement("br",null),r.a.createElement("h4",null,t.email)))},F=function(){return r.a.createElement("div",{className:"howto-container"},r.a.createElement("h1",null,"Using chk(mark)"),r.a.createElement("p",null,"Markdown isn't just for READMEs anymore!"),r.a.createElement("p",null,"Take the Markdown you already know and use to to make your notes come to life."),r.a.createElement("p",null,r.a.createElement("a",{href:"https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet",target:"_blank",rel:"noopener noreferrer"},"Markdown")," allows you to use Headers, insert codeblocks, emphasize and embolden text, and include images inline."),r.a.createElement("p",null,"Simply click the ",r.a.createElement("code",null,"+")," icon to create a new note, then use Markdown to style your new note as you wish!"),r.a.createElement("h1",null,"For Example"),r.a.createElement("p",null,"For instance, entering something like:"),r.a.createElement("pre",null,r.a.createElement("code",null,"[I'm a link](www.google.com)")),r.a.createElement("p",null,"Gives you something like this:"),r.a.createElement("a",{href:"https://www.google.com",rel:"nofollow"},"I'm a link"),r.a.createElement("br",null),r.a.createElement("p",null,"Happy hacking!"))},z=function(e){var t,n,a=e.onLoginClick;return r.a.createElement("div",{className:"auth-form"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a(t.value,n.value)}},r.a.createElement("input",{type:"text",placeholder:"Username",ref:function(e){t=e}}),r.a.createElement("input",{type:"password",placeholder:"Password",ref:function(e){n=e}}),r.a.createElement("input",{type:"submit",value:"login"})))},H=function(e){function t(){return Object(d.a)(this,t),Object(O.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.viewMode,n=e.onLoginClick,a=e.onRegisterClick,o=e.user;return r.a.createElement("div",{className:"app-body"},"NOTE"===t&&r.a.createElement(A,null),"HOME"===t&&r.a.createElement(x,null),"LOGIN"===t&&r.a.createElement(z,{onLoginClick:n}),"REGISTER"===t&&r.a.createElement(G,{onRegisterClick:a}),"PROFILE"===t&&r.a.createElement(P,{user:o}),"INSTRUCTIONS"===t&&r.a.createElement(F,null))}}]),t}(a.Component),q=Object(u.b)(function(e){return{viewMode:e.viewMode,editMode:e.editMode,user:e.user}},function(e){return{onLoginClick:function(t,n){return e(function(e,t){return function(n){m()("/login",{method:"POST",body:JSON.stringify({username:e,password:t}),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){e.token&&(E.authenticateToken(e.token),n(p(e.token,null)),n(v("NOTE")))}).catch(function(e){return console.log(e)})}}(t,n))},onRegisterClick:function(t,n,a,r){return e(function(e,t,n,a){return function(r){m()("/users",{method:"POST",body:JSON.stringify({user:{username:e,password:t,name:n,email:a}}),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){e.token&&(E.authenticateToken(e.token),r(p(e.token,null)),r(v("NOTE")))}).catch(function(e){return console.log(e)})}}(t,n,a,r))}}})(H),J=(n(130),function(){return r.a.createElement("div",{className:"App"},r.a.createElement(N,null),r.a.createElement(q,null),r.a.createElement(g,null))}),V=n(15),W=n(40),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{id:0,note:"First note"},{id:1,note:"Second note"}],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NOTE":return Object(W.a)(e).concat([{id:t.id,text:t.text}]);case"UPDATE_NOTE":return e.map(function(e){return e.id===t.id?Object(V.a)({},e,{text:t.text}):e});case"DELETE_NOTE":return e.filter(function(e,n){return e.id!==t.id});case"SET_NOTES":return t.notes;default:return e}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGOUT":return{};case"LOGIN":return{token:t.token,name:t.name};case"SET_USER":return Object(V.a)({},e,{name:t.user.name,email:t.user.email,username:t.user.username});default:return e}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHING_NOTES":return t.value;case"SET_NOTES":return!1;default:return e}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_MODE":return t.value;case"ADD_NOTE":case"UPDATE_NOTE":case"DELETE_NOTE":case"SET_CURRENT_NOTE":return!1;case"NEW_NOTE":return!0;default:return e}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NOTE":case"SET_CURRENT_NOTE":return t.id;case"CLEAR_CURRENT_NOTE":case"NEW_NOTE":return null;case"DELETE_NOTE":return e===t.id?null:e;default:return e}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"HOME",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VIEW_MODE":return t.value;case"LOGIN":return"NOTE";case"LOGOUT":return"LOGIN";default:return e}},$=Object(c.c)({notes:X,user:B,fetchingNotes:K,editMode:Q,currentNote:Y,viewMode:Z}),ee=Object(i.createLogger)(),te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,ne=Object(c.e)($,te(Object(c.a)(l.a,ee)));Object(o.render)(r.a.createElement(u.a,{store:ne},r.a.createElement(J,null)),document.getElementById("root"))},41:function(e,t,n){e.exports=n(132)}},[[41,2,1]]]);
//# sourceMappingURL=main.00a34854.chunk.js.map